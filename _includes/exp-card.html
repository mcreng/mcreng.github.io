<div
  class="github-component d-flex flex-column flex-justify-between height-full text-left {% if site.style == 'dark' %}box-shadow{% else %}border border-gray-light{% endif %} bg-white rounded-1 p-3"
>
  <div class="row exp-card">
    <div class="col-1">
      <img src="./_img/{{experience.icon}}" class="icon" />
    </div>
    <div class="col-10">
      <p class="bold">{{experience.title}}</p>
      <p>{{experience.content}}</p>
      <p class="text-gray">
        {{experience.date}}
      </p>
      <p class="text-gray">
        {{experience.location}} {{state}}
      </p>
    </div>
    {% if experience.expand %}
    <div class="col-1">
      <a
        data-toggle="collapse"
        href="#{{experience.expand}}-collapse"
        role="button"
        aria-expanded="false"
        aria-controls="{{experience.expand}}-collapse"
      >
        {% octicon chevron-down height:30
        id:"{{experience.expand}}-chevron-down" %}{% octicon chevron-up
        height:30 class:"hide" id:"{{experience.expand}}-chevron-up" %}
      </a>
    </div>
    {% endif %}
    <div class="collapse col-12" id="{{experience.expand}}-collapse">
      <div
        class="card card-body d-flex flex-column flex-justify-between"
        id="{{experience.expand}}-collapse-card"
      >
        <!-- My grades: -->
        {% assign courses=experience.courses | sort: 'code' %} {% assign n_row =
        ((experience.courses | size) -1) | divided_by: 3 %} {% for j in
        (0..n_row) %}
        <div class="row" style="margin-bottom: 0.5em;">
          {% for i in (0..2) %}
          <div class="col-lg-4 col-xs-12">
            {% assign index=3 | times: j | plus: i %} {% assign
            course=courses[index]%} {% include course-card.html %}
          </div>
          {% endfor %}
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

<script>
  $(function() {
    $("#{{experience.expand}}-collapse").on(
      "show.bs.collapse hide.bs.collapse",
      e => {
        $("#{{experience.expand}}-chevron-up").toggleClass("hide");
        $("#{{experience.expand}}-chevron-down").toggleClass("hide");
      }
    );
  });
</script>
